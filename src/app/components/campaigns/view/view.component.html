<div class="main">
  <div class="left">
    <div class="characterBox mat-elevation-z2"
        *ngFor="let character of characters | async | sortBy:'initiative':'asc'; trackBy:('characterId' | trackByProperty)">
      <character-card [character]="character"> </character-card>
    </div>
  </div>
  <div class="right">
    <div class="actions" *ngIf="gm | async">
      <button mat-raised-button (click)="initiative($event)" color="accent">
        Initiative
      </button>
      <button mat-raised-button (click)="rest($event)" color="accent">
        Rest
      </button>
      <button mat-raised-button (click)="reset($event)" color="warn"
          class="lastButton">
        Reset
      </button>
    </div>
    <framesystem-roll-result *ngFor="let roll of rolls | async" [result]="roll">
    </framesystem-roll-result>
    <framesystem-chat-view *ngFor="let msg of chat | async" [msg]="msg">
    </framesystem-chat-view>
    <div class="presence">
      <framesystem-person-image [person]="presentUser"
          *ngFor="let presentUser of present | async">
      </framesystem-person-image>
    </div>
    <framesystem-chat-write *ngIf="campaign | async as campaignScalar"
        class="chatCompose" [campaign]="campaignScalar" [user]="user | async">
    </framesystem-chat-write>
  </div>
</div>